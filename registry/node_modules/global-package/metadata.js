var logger = require('logger').child({component: 'global-package/metadata'})

module.exports = function globalMetadata (req, res, next) {
  // TODO: Possibly cache and passthru instead of redirect?
  logger.info({req: req}, 'global-package metadata')

  res.writeHead(302, {
    'Location': 'https://registry.npmjs.org/' + req.params.package
  })

  res.end()
  return next()
}
