var logger = require('logger').child({component: 'auth/none'})

function NoneStrategy () {
  logger.warn('NoneStrategy being used for authentication. NOT recommended for production use!')
  return this
}

NoneStrategy.prototype.userData = function NoneStrategyUserData () {
  return function NoneUserData (req, res, next) {
    req.auth.user = {
      name: 'none',
      user: 'none',
      email: 'none@none'
    }

    return next()
  }
}

NoneStrategy.prototype.checkAuth = function NoneStrategyCheckAuth (permission) {
  return function NoneCheckAuth (req, res, next) {
    logger.info({req: req}, 'checkAuth')
    return next()
  }
}

module.exports = NoneStrategy
